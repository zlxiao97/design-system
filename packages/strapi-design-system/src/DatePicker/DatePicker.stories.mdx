<!--- DatePicker.stories.mdx --->

import { useState } from 'react';
import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { ArgsTable } from '@storybook/addon-docs';
import { DatePicker } from './DatePicker';
import { Typography } from '../Typography';

<Meta title="Design System/Components/DatePicker" component={DatePicker} />

# DatePicker

Date pickers help users selecting a specific date from a calendar. They can be associated to a Time picker component.

**Best practices**

- It is possible to change the date format by changing your browser locale.
- A Date picker can used simultaneously with a Time picker in a form.

[View source](https://github.com/strapi/design-system/tree/main/packages/strapi-design-system/src/DatePicker)

## Imports

```js
import { DatePicker } from '@strapi/design-system';
```

## Usage

- A Date picker is used to select an unique date. It is not possible to select a date range. It is not possible to write
  a date from the keyboard.
- When the Date picker is activated, it selects today's date. However, a Date picker can have a null value via the Clear
  feature.

<Canvas>
  <Story name="base">
    {() => {
      const [date, setDate] = useState();
      return (
        <div>
          <DatePicker
            onChange={setDate}
            selectedDate={date}
            label="Date picker"
            name="datepicker"
            clearLabel="Clear the datepicker"
            onClear={() => setDate(undefined)}
            selectedDateLabel={(formattedDate) => `Date picker, current is ${formattedDate}`}
          />
          <div style={{ marginLeft: '500px' }}>
            <button>
              <Typography>Button outside picker</Typography>
            </button>
          </div>
        </div>
      );
    }}
  </Story>
</Canvas>

### Size S

`DatePicker` can be displayed with a smaller size.

<Canvas>
  <Story name="size S">
    {() => {
      const [date, setDate] = useState();
      return (
        <div>
          <DatePicker
            onChange={setDate}
            selectedDate={date}
            label="Date picker"
            name="datepicker"
            size="S"
            clearLabel="Clear the datepicker"
            onClear={() => setDate(undefined)}
            selectedDateLabel={(formattedDate) => `Date picker, current is ${formattedDate}`}
          />
          <div style={{ marginLeft: '500px' }}>
            <button>
              <Typography>Button outside picker</Typography>
            </button>
          </div>
        </div>
      );
    }}
  </Story>
</Canvas>

### Disabled

Depending on the permissions a user have or the status of an action, a `DatePicker` can be disabled.

<Canvas>
  <Story name="disabled">
    {() => {
      const [date, setDate] = useState();
      return (
        <div>
          <DatePicker
            onChange={setDate}
            selectedDate={date}
            label="Date picker"
            name="datepicker"
            clearLabel="Clear the datepicker"
            onClear={() => setDate(undefined)}
            selectedDateLabel={(formattedDate) => `Date picker, current is ${formattedDate}`}
            disabled
          />
          <div style={{ marginLeft: '500px' }}>
            <button>
              <Typography>Button outside picker</Typography>
            </button>
          </div>
        </div>
      );
    }}
  </Story>
</Canvas>

### Error

`DatePicker` can display an error. The error message is customizable and replaces the description line below input.

<Canvas>
  <Story name="error">
    {() => {
      const [date, setDate] = useState();
      return (
        <div>
          <DatePicker
            onChange={setDate}
            selectedDate={date}
            label="Date picker"
            name="datepicker"
            clearLabel={'Clear the datepicker'}
            onClear={() => setDate(undefined)}
            selectedDateLabel={(formattedDate) => `Date picker, current is ${formattedDate}`}
            error="Unavailable date"
          />
          <div style={{ marginLeft: '500px' }}>
            <button>
              <Typography>Button outside picker</Typography>
            </button>
          </div>
        </div>
      );
    }}
  </Story>
</Canvas>

### Required

`DatePicker` can be required. The required state will appear with a red asterisk beside the label.

<Canvas>
  <Story name="required">
    {() => {
      const [date, setDate] = useState();
      return (
        <div>
          <DatePicker
            onChange={setDate}
            selectedDate={date}
            label="Date picker"
            name="datepicker"
            clearLabel={'Clear the datepicker'}
            onClear={() => setDate(undefined)}
            selectedDateLabel={(formattedDate) => `Date picker, current is ${formattedDate}`}
            required
          />
          <div style={{ marginLeft: '500px' }}>
            <button>
              <Typography>Button outside picker</Typography>
            </button>
          </div>
        </div>
      );
    }}
  </Story>
</Canvas>

### Min and Max Dates

By passing in `minDate` or `maxDate` it is possible to define the range of years, the `DatePicker` displays.

<Canvas>
  <Story name="min/ max date">
    {() => {
      const [date, setDate] = useState();
      return (
        <DatePicker
          onChange={setDate}
          selectedDate={date}
          label="Date picker"
          name="datepicker"
          clearLabel="Clear the datepicker"
          onClear={() => setDate(undefined)}
          placeholder="03/01/1970"
          selectedDateLabel={(formattedDate) => `Date picker, current is ${formattedDate}`}
          minDate={new Date(2000, 1, 1)}
          maxDate={new Date(2040, 1, 1)}
        />
      );
    }}
  </Story>
</Canvas>

### Locales

`DatePicker` can format a date depending on a specific locale.

<Canvas>
  <Story name="locales">
    {() => {
      const [date, setDate] = useState();
      return (
        <DatePicker
          onChange={setDate}
          selectedDate={date}
          label="Date picker"
          name="datepicker"
          clearLabel="Clear the datepicker"
          onClear={() => setDate(undefined)}
          placeholder="03/01/1970"
          locale="de"
          selectedDateLabel={(formattedDate) => `Date picker, current is ${formattedDate}`}
          minDate={new Date(2000, 1, 1)}
          maxDate={new Date(2040, 1, 1)}
        />
      );
    }}
  </Story>
</Canvas>

## Props

<ArgsTable of={DatePicker} />
